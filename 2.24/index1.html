<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title></title>
</head>
<body>
	<script>
		import {
			getUser,
			getAddressList
		} from '../service/getData'
		import {
			GET_USERINFO,
			SAVE_ADDRESS
		} from './mutation-types.js'
		
		export default {
		
			async getUserInfo({
				commit,
				state
			}) {
				let res = await getUser();
				commit(GET_USERINFO, res)
			},
			async saveAddress({
				commit,
				state
			}) {
		
				if(state.removeAddress.length > 0) return;
		
				let addres = await getAddressList(state.userInfo.user_id);
				commit(SAVE_ADDRESS, addres);	
			},
		}
	</script>
</body>
</html>